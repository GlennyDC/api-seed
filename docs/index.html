<!doctype html>
<html class="default no-js">
<head>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<title>api-seed</title>
	<meta name="description" content="Documentation for api-seed">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<link rel="stylesheet" href="assets/css/main.css">
</head>
<body>
<header>
	<div class="tsd-page-toolbar">
		<div class="container">
			<div class="table-wrap">
				<div class="table-cell" id="tsd-search" data-index="assets/js/search.json" data-base=".">
					<div class="field">
						<label for="tsd-search-field" class="tsd-widget search no-caption">Search</label>
						<input id="tsd-search-field" type="text" />
					</div>
					<ul class="results">
						<li class="state loading">Preparing search index...</li>
						<li class="state failure">The search index is not available</li>
					</ul>
					<a href="index.html" class="title">api-seed</a>
				</div>
				<div class="table-cell" id="tsd-widgets">
					<div id="tsd-filter">
						<a href="#" class="tsd-widget options no-caption" data-toggle="options">Options</a>
						<div class="tsd-filter-group">
							<div class="tsd-select" id="tsd-filter-visibility">
								<span class="tsd-select-label">All</span>
								<ul class="tsd-select-list">
									<li data-value="public">Public</li>
									<li data-value="protected">Public/Protected</li>
									<li data-value="private" class="selected">All</li>
								</ul>
							</div>
							<input type="checkbox" id="tsd-filter-inherited" checked />
							<label class="tsd-widget" for="tsd-filter-inherited">Inherited</label>
							<input type="checkbox" id="tsd-filter-externals" checked />
							<label class="tsd-widget" for="tsd-filter-externals">Externals</label>
							<input type="checkbox" id="tsd-filter-only-exported" />
							<label class="tsd-widget" for="tsd-filter-only-exported">Only exported</label>
						</div>
					</div>
					<a href="#" class="tsd-widget menu no-caption" data-toggle="menu">Menu</a>
				</div>
			</div>
		</div>
	</div>
	<div class="tsd-page-title">
		<div class="container">
			<ul class="tsd-breadcrumb">
				<li>
					<a href="globals.html">Globals</a>
				</li>
			</ul>
			<h1>api-seed</h1>
		</div>
	</div>
</header>
<div class="container container-main">
	<div class="row">
		<div class="col-8 col-content">
			<div class="tsd-panel tsd-typography">
				<a href="#api-seed" id="api-seed" style="color: inherit; text-decoration: none;">
					<h1>API seed</h1>
				</a>
				<a href="#features" id="features" style="color: inherit; text-decoration: none;">
					<h2>Features</h2>
				</a>
				<a href="#advanced-input-validation" id="advanced-input-validation" style="color: inherit; text-decoration: none;">
					<h4>Advanced input validation</h4>
				</a>
				<p>Although GraphQL already provides a powerful query validation scheme, a more advanced input validation is achieved with <a href="https://github.com/hapijs/joi" title="Joi repository">Joi</a>. The GraphQL query validation indicates if a query is valid (e.g. do the requested fields exist, are all the required inputs present and of the correct type, ...). The Joi input validation on the other hand indicates if the received input is valid against a custom defined schema (e.g. is a number not too big, if one input is present, another one should be present aswell, ...). If the provided input does not match its schema, an error with code <code>INPUT_INVALID_ERROR</code> will be returned by the server. The error is enhanced with a brief description of the validation errors.</p>
				<a href="#docker" id="docker" style="color: inherit; text-decoration: none;">
					<h4>Docker</h4>
				</a>
				<p>TODO</p>
				<a href="#file-hierarchy" id="file-hierarchy" style="color: inherit; text-decoration: none;">
					<h2>File hierarchy</h2>
				</a>
				<p>TODO</p>
				<a href="#scripts" id="scripts" style="color: inherit; text-decoration: none;">
					<h2>Scripts</h2>
				</a>
				<p>TODO</p>
				<a href="#design-considerations" id="design-considerations" style="color: inherit; text-decoration: none;">
					<h2>Design considerations</h2>
				</a>
				<p>TODO</p>
				<a href="#todo" id="todo" style="color: inherit; text-decoration: none;">
					<h2>TODO</h2>
				</a>
				<p>Below is a summarization of the upcoming tasks necessary to complete this API seed.</p>
				<a href="#must-have" id="must-have" style="color: inherit; text-decoration: none;">
					<h3>Must have</h3>
				</a>
				<ul>
					<li><input disabled="" type="checkbox"> Automatic configuration of global variables in and out of Docker</li>
					<li><input disabled="" type="checkbox"> Add uniform error handling</li>
					<li><input disabled="" type="checkbox"> Fine tune ESlint, husky and lint-staged</li>
					<li><input disabled="" type="checkbox"> Add correct TypeScript types</li>
					<li><input checked="" disabled="" type="checkbox"> Fix production and development stacktrace mapping to ts instead of compiled js files</li>
					<li><input checked="" disabled="" type="checkbox"> Get rid of ts-node and use tsc for dev and prd</li>
					<li><input checked="" disabled="" type="checkbox"> Add working multi-stage Docker setup</li>
					<li><input disabled="" type="checkbox"> Add uniform JSDocs</li>
					<li><input disabled="" type="checkbox"> Complete this README</li>
					<li><input checked="" disabled="" type="checkbox"> Add some sort of automatic outdated dependencies / vulnerabilities resolver (Dependabot?, Snyk?)</li>
					<li><input disabled="" type="checkbox"> Add morgan logging (with request ids ofcourse)</li>
					<li><input disabled="" type="checkbox"> Apply pretty much everything from <a href="https://github.com/goldbergyoni/nodebestpractices">https://github.com/goldbergyoni/nodebestpractices</a></li>
					<li><input disabled="" type="checkbox"> CI (switch to GitLab?)</li>
					<li><input disabled="" type="checkbox"> CD (switch to GitLab?)</li>
					<li><input checked="" disabled="" type="checkbox"> Bump dependency versions</li>
					<li><input checked="" disabled="" type="checkbox"> Add automatic resolver types with <a href="https://graphql-code-generator.com/">https://graphql-code-generator.com/</a></li>
					<li><input disabled="" type="checkbox"> Add tests (Jest?)</li>
					<li><input disabled="" type="checkbox"> Add test coverage (Istanbul?)</li>
					<li><input checked="" disabled="" type="checkbox"> Add robust GraphQL input validation with Joi</li>
					<li><input checked="" disabled="" type="checkbox"> Add common middlewares such as koa-helmet, cors, ...</li>
					<li><input disabled="" type="checkbox"> Add JSDoc to HTML generator</li>
					<li><input checked="" disabled="" type="checkbox"> Add <code>import type</code> where necessary</li>
					<li><input disabled="" type="checkbox"> Add a database (PostgreSQl?, MongoDb?)</li>
					<li><input disabled="" type="checkbox"> Add an ORM (Sequelize?, Mongoose?)</li>
					<li><input disabled="" type="checkbox"> Figure out a robust and almost transparent for front-end refetch token mechanism</li>
					<li><input disabled="" type="checkbox"> Add DataLoader to solve the N+1 GraphQL problem</li>
					<li><input disabled="" type="checkbox"> Don&#39;t mask GraphQL generated errors such as GRAPHQL_VALIDATION</li>
				</ul>
				<a href="#nice-to-have" id="nice-to-have" style="color: inherit; text-decoration: none;">
					<h3>Nice to have</h3>
				</a>
				<ul>
					<li>Switch from cls-hooked to native Node async_hooks for performance optimalization</li>
					<li>Respect the default exports from node_modules (no <code>esModuleInterop</code> and <code>allowSyntheticDefaultImports</code>?)</li>
					<li>Lay out foundation to optionally add a REST API</li>
					<li>Add HTTP caching (Redis?)</li>
					<li>Split main entrypoint in two parts: Node related and server related</li>
					<li>Add protected branches mechanism (switch to GitLab?)</li>
				</ul>
				<a href="#remarks" id="remarks" style="color: inherit; text-decoration: none;">
					<h3>Remarks</h3>
				</a>
				<ul>
					<li>Check for a more strict eslint config. For example the <code>require-await</code> rule is not enabled per default.</li>
					<li>Check for faster transpile time with <code>ts-node</code>. <code>--transpile-only</code> ?</li>
					<li>Put in linting / tests inside Docker prd multi-stage?</li>
				</ul>
			</div>
		</div>
		<div class="col-4 col-menu menu-sticky-wrap menu-highlight">
			<nav class="tsd-navigation primary">
				<ul>
					<li class="globals  ">
						<a href="globals.html"><em>Globals</em></a>
					</li>
					<li class=" tsd-kind-module">
						<a href="modules/_app_.html">&quot;app&quot;</a>
					</li>
					<li class=" tsd-kind-module">
						<a href="modules/_global_auth_auth_.html">&quot;global/auth/auth&quot;</a>
					</li>
					<li class=" tsd-kind-module">
						<a href="modules/_global_auth_index_.html">&quot;global/auth/index&quot;</a>
					</li>
					<li class=" tsd-kind-module">
						<a href="modules/_global_auth_rolepermissions_.html">&quot;global/auth/role<wbr>Permissions&quot;</a>
					</li>
					<li class=" tsd-kind-module">
						<a href="modules/_global_auth_token_.html">&quot;global/auth/token&quot;</a>
					</li>
					<li class=" tsd-kind-module">
						<a href="modules/_global_createlogger_.html">&quot;global/create<wbr>Logger&quot;</a>
					</li>
					<li class=" tsd-kind-module">
						<a href="modules/_global_error_errorcode_.html">&quot;global/error/error<wbr>Code&quot;</a>
					</li>
					<li class=" tsd-kind-module">
						<a href="modules/_global_error_errors_authenticationerror_.html">&quot;global/error/errors/authentication<wbr>Error&quot;</a>
					</li>
					<li class=" tsd-kind-module">
						<a href="modules/_global_error_errors_authorizationerror_.html">&quot;global/error/errors/authorization<wbr>Error&quot;</a>
					</li>
					<li class=" tsd-kind-module">
						<a href="modules/_global_error_errors_baseerror_.html">&quot;global/error/errors/base<wbr>Error&quot;</a>
					</li>
					<li class=" tsd-kind-module">
						<a href="modules/_global_error_errors_businesserror_.html">&quot;global/error/errors/business<wbr>Error&quot;</a>
					</li>
					<li class=" tsd-kind-module">
						<a href="modules/_global_error_errors_index_.html">&quot;global/error/errors/index&quot;</a>
					</li>
					<li class=" tsd-kind-module">
						<a href="modules/_global_error_errors_inputvalidationerror_.html">&quot;global/error/errors/input<wbr>Validation<wbr>Error&quot;</a>
					</li>
					<li class=" tsd-kind-module">
						<a href="modules/_global_error_errors_integrationerror_.html">&quot;global/error/errors/integration<wbr>Error&quot;</a>
					</li>
					<li class=" tsd-kind-module">
						<a href="modules/_global_error_errors_notfounderror_.html">&quot;global/error/errors/not<wbr>Found<wbr>Error&quot;</a>
					</li>
					<li class=" tsd-kind-module">
						<a href="modules/_global_error_errors_requesterror_.html">&quot;global/error/errors/request<wbr>Error&quot;</a>
					</li>
					<li class=" tsd-kind-module">
						<a href="modules/_global_error_index_.html">&quot;global/error/index&quot;</a>
					</li>
					<li class=" tsd-kind-module">
						<a href="modules/_global_error_transformgraphqlerror_.html">&quot;global/error/transform<wbr>GraphQLError&quot;</a>
					</li>
					<li class=" tsd-kind-module">
						<a href="modules/_global_getenvironmentvariable_.html">&quot;global/get<wbr>Environment<wbr>Variable&quot;</a>
					</li>
					<li class=" tsd-kind-module">
						<a href="modules/_global_index_.html">&quot;global/index&quot;</a>
					</li>
					<li class=" tsd-kind-module">
						<a href="modules/_global_inputvalidation_args_.html">&quot;global/input<wbr>Validation/args&quot;</a>
					</li>
					<li class=" tsd-kind-module">
						<a href="modules/_global_inputvalidation_index_.html">&quot;global/input<wbr>Validation/index&quot;</a>
					</li>
					<li class=" tsd-kind-module">
						<a href="modules/_global_installapolloserver_.html">&quot;global/install<wbr>Apollo<wbr>Server&quot;</a>
					</li>
					<li class=" tsd-kind-module">
						<a href="modules/_global_installdatabaseconnection_.html">&quot;global/install<wbr>Database<wbr>Connection&quot;</a>
					</li>
					<li class=" tsd-kind-module">
						<a href="modules/_global_middleware_applymiddleware_.html">&quot;global/middleware/apply<wbr>Middleware&quot;</a>
					</li>
					<li class=" tsd-kind-module">
						<a href="modules/_global_middleware_index_.html">&quot;global/middleware/index&quot;</a>
					</li>
					<li class=" tsd-kind-module">
						<a href="modules/_global_middleware_makeerrorrespondermiddleware_.html">&quot;global/middleware/make<wbr>Error<wbr>Responder<wbr>Middleware&quot;</a>
					</li>
					<li class=" tsd-kind-module">
						<a href="modules/_global_middleware_makeloggingmiddleware_.html">&quot;global/middleware/make<wbr>Logging<wbr>Middleware&quot;</a>
					</li>
					<li class=" tsd-kind-module">
						<a href="modules/_global_middleware_maketokenextractormiddleware_.html">&quot;global/middleware/make<wbr>Token<wbr>Extractor<wbr>Middleware&quot;</a>
					</li>
					<li class=" tsd-kind-module">
						<a href="modules/_global_request_httpmethod_.html">&quot;global/request/http<wbr>Method&quot;</a>
					</li>
					<li class=" tsd-kind-module">
						<a href="modules/_global_request_index_.html">&quot;global/request/index&quot;</a>
					</li>
					<li class=" tsd-kind-module">
						<a href="modules/_global_request_request_.html">&quot;global/request/request&quot;</a>
					</li>
					<li class=" tsd-kind-module">
						<a href="modules/_global_types_index_.html">&quot;global/types/index&quot;</a>
					</li>
					<li class=" tsd-kind-module">
						<a href="modules/_index_.html">&quot;index&quot;</a>
					</li>
					<li class=" tsd-kind-module">
						<a href="modules/_modules_auth_auth_resolvers_.html">&quot;modules/auth/auth.resolvers&quot;</a>
					</li>
					<li class=" tsd-kind-module">
						<a href="modules/_modules_auth_auth_service_.html">&quot;modules/auth/auth.service&quot;</a>
					</li>
					<li class=" tsd-kind-module">
						<a href="modules/_modules_auth_auth_typedefs_.html">&quot;modules/auth/auth.type<wbr>Defs&quot;</a>
					</li>
					<li class=" tsd-kind-module">
						<a href="modules/_modules_author_author_data_.html">&quot;modules/author/author.data&quot;</a>
					</li>
					<li class=" tsd-kind-module">
						<a href="modules/_modules_author_author_loader_.html">&quot;modules/author/author.loader&quot;</a>
					</li>
					<li class=" tsd-kind-module">
						<a href="modules/_modules_author_author_model_.html">&quot;modules/author/author.model&quot;</a>
					</li>
					<li class=" tsd-kind-module">
						<a href="modules/_modules_author_author_resolvers_.html">&quot;modules/author/author.resolvers&quot;</a>
					</li>
					<li class=" tsd-kind-module">
						<a href="modules/_modules_author_author_service_.html">&quot;modules/author/author.service&quot;</a>
					</li>
					<li class=" tsd-kind-module">
						<a href="modules/_modules_author_author_typedefs_.html">&quot;modules/author/author.type<wbr>Defs&quot;</a>
					</li>
					<li class=" tsd-kind-module">
						<a href="modules/_modules_book_book_data_.html">&quot;modules/book/book.data&quot;</a>
					</li>
					<li class=" tsd-kind-module">
						<a href="modules/_modules_book_book_loader_.html">&quot;modules/book/book.loader&quot;</a>
					</li>
					<li class=" tsd-kind-module">
						<a href="modules/_modules_book_book_resolvers_.html">&quot;modules/book/book.resolvers&quot;</a>
					</li>
					<li class=" tsd-kind-module">
						<a href="modules/_modules_book_book_service_.html">&quot;modules/book/book.service&quot;</a>
					</li>
					<li class=" tsd-kind-module">
						<a href="modules/_modules_book_book_typedefs_.html">&quot;modules/book/book.type<wbr>Defs&quot;</a>
					</li>
					<li class=" tsd-kind-module">
						<a href="modules/_modules_capsule_capsule_mappers_.html">&quot;modules/capsule/capsule.mappers&quot;</a>
					</li>
					<li class=" tsd-kind-module">
						<a href="modules/_modules_capsule_capsule_resolvers_.html">&quot;modules/capsule/capsule.resolvers&quot;</a>
					</li>
					<li class=" tsd-kind-module">
						<a href="modules/_modules_capsule_capsule_service_.html">&quot;modules/capsule/capsule.service&quot;</a>
					</li>
					<li class=" tsd-kind-module">
						<a href="modules/_modules_capsule_capsule_spacex_.html">&quot;modules/capsule/capsule.spacex&quot;</a>
					</li>
					<li class=" tsd-kind-module">
						<a href="modules/_modules_capsule_capsule_typedefs_.html">&quot;modules/capsule/capsule.type<wbr>Defs&quot;</a>
					</li>
					<li class=" tsd-kind-module">
						<a href="modules/_modules_category_category_data_.html">&quot;modules/category/category.data&quot;</a>
					</li>
					<li class=" tsd-kind-module">
						<a href="modules/_modules_category_category_loader_.html">&quot;modules/category/category.loader&quot;</a>
					</li>
					<li class=" tsd-kind-module">
						<a href="modules/_modules_category_category_resolvers_.html">&quot;modules/category/category.resolvers&quot;</a>
					</li>
					<li class=" tsd-kind-module">
						<a href="modules/_modules_category_category_service_.html">&quot;modules/category/category.service&quot;</a>
					</li>
					<li class=" tsd-kind-module">
						<a href="modules/_modules_category_category_typedefs_.html">&quot;modules/category/category.type<wbr>Defs&quot;</a>
					</li>
					<li class=" tsd-kind-module">
						<a href="modules/_modules_sort_typedefs_.html">&quot;modules/sort.type<wbr>Defs&quot;</a>
					</li>
					<li class=" tsd-kind-module">
						<a href="modules/_modules_user_user_data_.html">&quot;modules/user/user.data&quot;</a>
					</li>
					<li class=" tsd-kind-module">
						<a href="modules/_modules_user_user_resolvers_.html">&quot;modules/user/user.resolvers&quot;</a>
					</li>
					<li class=" tsd-kind-module">
						<a href="modules/_modules_user_user_service_.html">&quot;modules/user/user.service&quot;</a>
					</li>
					<li class=" tsd-kind-module">
						<a href="modules/_modules_user_user_typedefs_.html">&quot;modules/user/user.type<wbr>Defs&quot;</a>
					</li>
				</ul>
			</nav>
			<nav class="tsd-navigation secondary menu-sticky">
				<ul class="before-current">
				</ul>
			</nav>
		</div>
	</div>
</div>
<footer class="with-border-bottom">
	<div class="container">
		<h2>Legend</h2>
		<div class="tsd-legend-group">
			<ul class="tsd-legend">
				<li class="tsd-kind-object-literal"><span class="tsd-kind-icon">Object literal</span></li>
				<li class="tsd-kind-variable"><span class="tsd-kind-icon">Variable</span></li>
				<li class="tsd-kind-function"><span class="tsd-kind-icon">Function</span></li>
				<li class="tsd-kind-function tsd-has-type-parameter"><span class="tsd-kind-icon">Function with type parameter</span></li>
				<li class="tsd-kind-type-alias"><span class="tsd-kind-icon">Type alias</span></li>
			</ul>
			<ul class="tsd-legend">
				<li class="tsd-kind-enum"><span class="tsd-kind-icon">Enumeration</span></li>
			</ul>
			<ul class="tsd-legend">
				<li class="tsd-kind-interface"><span class="tsd-kind-icon">Interface</span></li>
			</ul>
			<ul class="tsd-legend">
				<li class="tsd-kind-class"><span class="tsd-kind-icon">Class</span></li>
			</ul>
		</div>
	</div>
</footer>
<div class="container tsd-generator">
	<p>Generated using <a href="https://typedoc.org/" target="_blank">TypeDoc</a></p>
</div>
<div class="overlay"></div>
<script src="assets/js/main.js"></script>
</body>
</html>